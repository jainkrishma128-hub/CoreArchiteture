@using CommonArchitecture.Application.DTOs
@using CommonArchitecture.Web.Areas.Ecommerce.Controllers
@model IEnumerable<CategoryProductGroup>

@{
    ViewData["Title"] = "Shop Home";
}

<!-- Hero Banner -->
<section class="shop-hero bg-primary text-white py-5 mb-5 position-relative overflow-hidden">
    <div class="container position-relative z-index-10">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="hero-text py-5">
                    <span class="badge bg-light text-primary mb-3">Premium Collection 2025</span>
                    <h1 class="display-4 fw-bold mb-4">Elevate Your Lifestyle with Quality Products</h1>
                    <p class="lead mb-4 opacity-75">Discover our curated selection of premium products designed for excellence. Shop the best, feel the best.</p>
                    <div class="d-flex gap-3">
                        <a asp-action="ProductList" class="btn btn-light btn-lg rounded-pill px-4">
                            <i class="bi bi-shop me-2"></i>Shop Now
                        </a>
                        <a href="#categories" class="btn btn-outline-light btn-lg rounded-pill px-4">
                            <i class="bi bi-grid me-2"></i>Explore Categories
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 d-none d-lg-block">
                <div class="hero-image-wrapper p-4">
                    <img src="https://picsum.photos/seed/shop-hero/600/400" alt="Shop Hero" class="img-fluid rounded-4 shadow-lg" />
                </div>
            </div>
        </div>
    </div>
    <div class="hero-pattern position-absolute top-0 end-0 w-100 h-100 opacity-10">
        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <path fill="#FFFFFF" d="M47.5,-52.2C61.4,-44.2,72.4,-27.1,75.1,-9.1C77.8,8.9,72.2,27.8,60.1,41.2C48,54.6,29.4,62.5,10.6,65.8C-8.2,69.1,-27.2,67.8,-42.9,59C-58.6,50.2,-71,33.9,-74.3,16.2C-77.6,-1.5,-71.8,-20.6,-61.1,-34.5C-50.4,-48.4,-34.8,-57.1,-18.8,-61.7C-2.8,-66.3,13.6,-66.8,33.6,-60.2C47.5,-52.2,47.5,-52.2,47.5,-52.2Z" transform="translate(100 100)" />
        </svg>
    </div>
</section>

<!-- Features Section -->
<section class="features-section py-4 bg-light mb-5">
    <div class="container">
        <div class="row g-4 text-center">
            <div class="col-lg-3 col-md-6">
                <div class="p-3">
                    <i class="bi bi-truck display-6 text-primary mb-2"></i>
                    <h6 class="fw-bold">Free Shipping</h6>
                    <p class="small text-muted mb-0">On orders over $99</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="p-3">
                    <i class="bi bi-shield-check display-6 text-primary mb-2"></i>
                    <h6 class="fw-bold">Secure Payment</h6>
                    <p class="small text-muted mb-0">100% secure checkout</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="p-3">
                    <i class="bi bi-arrow-repeat display-6 text-primary mb-2"></i>
                    <h6 class="fw-bold">Easy Returns</h6>
                    <p class="small text-muted mb-0">30-day money back</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="p-3">
                    <i class="bi bi-headset display-6 text-primary mb-2"></i>
                    <h6 class="fw-bold">24/7 Support</h6>
                    <p class="small text-muted mb-0">Dedicated assistance</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Categories & Products Section -->
<div id="categories">
    @foreach (var group in Model)
    {
        <section class="category-group mb-5">
            <div class="container">
                <div class="d-flex justify-content-between align-items-end mb-4">
                    <div>
                        <span class="text-primary fw-bold text-uppercase small">Featured Selection</span>
                        <h2 class="fw-bold mb-0">@group.Category.Name</h2>
                    </div>
                    <a asp-action="ProductList" asp-route-categoryId="@group.Category.Id" class="btn btn-outline-primary rounded-pill px-4">
                        Explore All @group.Category.Name <i class="bi bi-arrow-right ms-1"></i>
                    </a>
                </div>
                <div class="row g-4">
                    @foreach (var product in group.Products)
                    {
                        <div class="col-lg-3 col-md-6">
                            @Html.Partial("_ProductCard", product)
                        </div>
                    }
                </div>
            </div>
        </section>
    }
</div>

<style>
    .z-index-10 { z-index: 10; }
    .hero-pattern { opacity: 0.1; }
    .category-group h2 { position: relative; }
    /* .category-group h2::after {
        content: '';
        position: absolute;
        bottom: -10px;
        left: 0;
        width: 60px;
        height: 3px;
        background-color: var(--bs-primary);
        border-radius: 2px;
    } */
</style>

@section Scripts {
    <script src="~/js/shop.js"></script>
}

